<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>中酒网-注册</title>
		<link rel="stylesheet" type="text/css" href="css/zhuce.css"/>
		<script type="text/javascript" src="js/jquery-1.11.0.js">
			
		</script>
		<script src="js/zhuce.js" type="text/javascript" charset="utf-8"></script>
		
	</head>
	<body>
		
		<div id="header">
			<ul id="left">
				<li>
					<img src="img/star.png"/>
					<a href="">收藏商城</a>
				</li>
			</ul>
			<ul id="right">
				<li>您好！欢迎来到商城</li>
				<li><a href="denglu.html">[登录]</a></li>
				<li><a href="zhuce.html">[免费注册]</a></li>
			</ul>
		</div>
		<div id="top">
			<a href="zhongjiu.html">
				<img src="img/logo.png"/>
			</a>
			<span>欢迎注册</span>
		</div>
			<div id="list">
				<div id="ppt">
					我已经注册，现在就    <a href="denglu.html">登录</a>
				</div>
			</div>
		<form id="form1">
				<div class="box1">
					<span><b>*</b>手机号码:　</span><input type="text" id="user1"><div class="prompt">请输入手机号码</div>
				</div>
				<div class="box1">
					<span><b>*</b>图形验证:　</span><input type="text" id="yanzheng"><mark>2231</mark><div class="prompt">请输入验证码</div>
				</div>
				<div class="box1">
					<span><b>*</b>请设置密码:</span><input type="password" id="psw"><div class="prompt">6-20位字符，可使用字母、数字或符号的组合</div>
				</div>
				<div class="box1">
					<span><b>*</b>请确认密码:</span><input type="password" id="psw2"><div class="prompt">请再次输入密码</div>
				</div>
				<div class="box1">
					<span><b>*</b>手机验证:　</span><input type="text" id="user2"><button id="huoqu">获取验证码</button><div class="prompt">请确认验证码</div>
				</div>
				<div class="box1">
					<span><b></b></span><input type="checkbox" id="check"><p>我已阅读并同意《用户注册协议》
</p>
				</div>
			<input type="button" id="btn" value="立即注册" />
		</div>
		</form>
		<p id="footer">
			Copyright©2004-2015   中酒网  版权所有
		</p>
		<script type="text/javascript">
			$(function(){
				var num = Math.floor(Math.random()*9000)+1000;
				var box1 = document.getElementsByClassName("box1");
				var init  = box1[1].getElementsByTagName("mark")[0];
				var form1 = document.getElementById("form1");
				var oinput = form1.getElementsByTagName("input");
				var count1=false;
	            var count2=false;
	            var count3=false;
	       	     $("mark").click(function(){
	       	     	num=Math.floor(Math.random()*9000)+1000;
		            init.innerHTML=num;
		            console.log(num);
	       	     })
	            $("#huoqu").click(function(){
		            alert("您的手机验证码是："+num);
		            return count1;
	            })
	            //输入提示信息
	            for(let i = 0;i < oinput.length;i++){
	            	oinput[i].onfocus = function(){
	            		var odiv=form1.getElementsByClassName("prompt");
			             for(var j = 0;j < odiv.length;j++){
				           odiv[j].style.display="none";
			             }
			             var idiv = box1[i].getElementsByTagName("div")[0];
			             idiv.style.display = "block";
	            	}
	            }
	            //输入密码验证
	              var psw = document.getElementById("psw");
	              var psw2 = document.getElementById("psw2");
	              psw2.onblur = function(){
	              	var pswval = psw.value;
	                var psw2val = psw2.value;
	              if(pswval!==psw2val){
	              	alert("两次输入的密码不相同")
	              }else{
	              	count2 = true;
	              }
	            }
	              //手机号码验证
	            var user1 = document.getElementById("user1");
	            var user1val = user1.value;
		        var re = /^1(3|4|5|7|8)\d{9}$/;
		        user1.onblur = function(){
		        	if(re.test(user1val)==count3){
		          	alert("你输入的手机号格式有误")
		          }else{
		          	count3 = true;
		          }
		        }
		        var obtn = document.getElementById("btn");
                 obtn.onclick = function(){
                 	if(count3=true){
                 		location.assign("denglu.html")
                 	}else{
                 	     alert("请重新输入")
                 	}
                 }
		      
			})
	       
	         
		</script>
	</body>
</html>
